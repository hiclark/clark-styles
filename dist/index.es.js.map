{"version":3,"file":"index.es.js","sources":["../src/constants/spacing.js","../src/constants/max-width.js","../src/flex-grid/grid/index.js","../src/flex-grid/row/helpers.js","../src/flex-grid/const.js","../src/flex-grid/row/index.js","../src/constants/media-queries.js","../src/flex-grid/col/index.js"],"sourcesContent":["// @flow\n\nexport const SPACING_NONE = '0';\nexport const SPACING_EXTRA_SMALL = '.25rem';\nexport const SPACING_SMALL = '.5rem';\nexport const SPACING_MEDIUM = '1rem';\nexport const SPACING_LARGE = '2rem';\nexport const SPACING_EXTRA_LARGE = '4rem';\nexport const SPACING_EXTRA_EXTRA_LARGE = '8rem';\nexport const SPACING_EXTRA_EXTRA_EXTRA_LARGE = '16rem';\n","// @flow\n\nimport { css } from 'styled-components';\n\nconst MAX_WIDTH = css`\n  max-width: 80em; /* 1280px */\n`;\n\nexport default MAX_WIDTH;\n","// @flow\n\nimport { type ComponentType } from 'react';\n\nimport styled from 'styled-components';\nimport { SPACING_EXTRA_LARGE } from '../../constants/spacing';\nimport MAX_WIDTH from '../../constants/max-width';\n\ntype GridPropsType = {\n  margin?: string,\n};\n\nexport const Grid: ComponentType<GridPropsType> = styled.div`\n  padding: 0 ${SPACING_EXTRA_LARGE};\n  ${MAX_WIDTH};\n  margin: ${({ margin }) => margin || '0 auto'};\n`;\n\nexport default Grid;\n","// @flow\nimport { Children, isValidElement, type Node } from 'react';\n\nexport const identifyFirsts = (children: Node) => {\n  const lgFirsts = [];\n  let lgCount = 0;\n\n  const mdFirsts = [];\n  let mdCount = 0;\n\n  const smFirsts = [];\n  let smCount = 0;\n\n  Children.forEach(children, (c, i) => {\n    if (!isValidElement(c)) return;\n    if (smCount === 0) {\n      smFirsts.push(i);\n    }\n    if (mdCount === 0) {\n      mdFirsts.push(i);\n    }\n    if (lgCount === 0) {\n      lgFirsts.push(i);\n    }\n    const { sm, smOffset = 0, md, mdOffset = 0, lg, lgOffset = 0 } = c.props;\n\n    smCount += sm + smOffset;\n    mdCount += md + mdOffset;\n    lgCount += lg + lgOffset;\n\n    smCount = smCount === 12 ? 0 : smCount;\n    mdCount = mdCount === 12 ? 0 : mdCount;\n    lgCount = lgCount === 12 ? 0 : lgCount;\n  });\n\n  return {\n    smFirsts,\n    mdFirsts,\n    lgFirsts,\n  };\n};\n\nexport default identifyFirsts;\n","// @flow\n\nexport const GUTTER_SPACING = '.75rem';\n\nexport default GUTTER_SPACING;\n","// @flow\n\nimport React, { Children, cloneElement, type ComponentType, type Node } from 'react';\n\nimport styled from 'styled-components';\nimport { identifyFirsts } from './helpers';\nimport { GUTTER_SPACING } from '../const';\n\ntype AlignmentType =\n  | 'flex-start'\n  | 'flex-end'\n  | 'center'\n  | 'space-between'\n  | 'space-around'\n  | 'space-evenly'\n  | 'stretch'\n  | 'baseline';\n\ntype RowPropsType = {\n  alignItems?: AlignmentType,\n  children: Node,\n  className?: string,\n};\n\n// If a column is at the beginning of a row, we want its left margin to be 0\n// Because at smaller breakpoints, rows may need to wrap, we iterate through\n// children to determine whether they begin a row at any breakpoint - W.P. 10/2018\nexport const Row = ({ children, alignItems, className }: RowPropsType) => {\n  const { smFirsts, mdFirsts, lgFirsts } = identifyFirsts(children);\n\n  return (\n    <RowStyle alignItems={alignItems} className={className}>\n      {Children.map(children, (c, i) =>\n        cloneElement(c, {\n          smFirst: smFirsts.includes(i),\n          mdFirst: mdFirsts.includes(i),\n          lgFirst: lgFirsts.includes(i),\n        }),\n      )}\n    </RowStyle>\n  );\n};\n\nexport default Row;\n\nconst RowStyle: ComponentType<RowPropsType> = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0 ${GUTTER_SPACING};\n  align-items: ${({ alignItems }) => alignItems || 'flex-start'};\n`;\n","// @flow\n\nimport { css } from 'styled-components';\n\nconst sizes = {\n  large: 1280,\n  medium: 1024,\n  small: 768,\n};\n\nconst media = Object.keys(sizes).reduce((acc, label) => {\n  acc[label] = (...args: any[]) => css`\n    @media (min-width: ${sizes[label] / 16}em) {\n      ${css(...args)};\n    }\n  `;\n\n  return acc;\n}, {});\n\nexport default media;\n","// @flow\n\nimport { type ComponentType } from 'react';\n\nimport styled from 'styled-components';\nimport media from '../../constants/media-queries';\nimport { GUTTER_SPACING } from '../const';\n\nconst DOUBLE_GUTTER_SPACING = `calc(2 * ${GUTTER_SPACING})`;\nconst QUADRUPLE_GUTTER_SPACING = `calc(4 * ${GUTTER_SPACING})`;\n\ntype ColPropsType = {\n  sm: number,\n  smOffset?: number,\n  md: number,\n  mdOffset?: number,\n  lg: number,\n  lgOffset?: number,\n};\n\nconst widthOfInnerMargins = `calc(11 * ${DOUBLE_GUTTER_SPACING})`;\nconst availableWidthAfterMargins = `calc(100% - ${widthOfInnerMargins})`;\nconst singleColumnWidth = `calc(${availableWidthAfterMargins} / 12)`;\n\n// Width of an element =\n// number of columns it occupies x width of a single column + width of straddled gutters\n// - W.P. 10/2018\nconst calculateWidth = (cols: number) =>\n  `calc(${cols} * ${singleColumnWidth} + calc(${cols - 1} * ${DOUBLE_GUTTER_SPACING}))`;\n\nconst calculateMarginLeft = (first: boolean, offset: ?number) => {\n  if (offset) {\n    return `margin-left: calc(${\n      first ? DOUBLE_GUTTER_SPACING : QUADRUPLE_GUTTER_SPACING\n    } + ${calculateWidth(offset)})`;\n  }\n  if (first) {\n    return `margin-left: 0`;\n  }\n  return `margin-left: ${DOUBLE_GUTTER_SPACING}`;\n};\n\nexport const Col: ComponentType<ColPropsType> = styled.div`\n  flex: 0 0 auto;\n  width: ${({ sm }) => calculateWidth(sm)};\n  ${({ smFirst, smOffset }) => calculateMarginLeft(smFirst, smOffset)};\n  ${media.medium`\n    width: ${({ md }) => calculateWidth(md)};\n    ${({ mdFirst, mdOffset }) => calculateMarginLeft(mdFirst, mdOffset)};\n  `};\n  ${media.large`\n    width: ${({ lg }) => calculateWidth(lg)};\n    ${({ lgFirst, lgOffset }) => calculateMarginLeft(lgFirst, lgOffset)};\n  `};\n`;\n\nexport default Col;\n"],"names":["SPACING_EXTRA_LARGE","MAX_WIDTH","css","Grid","styled","div","margin","identifyFirsts","children","lgFirsts","lgCount","mdFirsts","mdCount","smFirsts","smCount","forEach","c","i","isValidElement","push","props","sm","smOffset","md","mdOffset","lg","lgOffset","GUTTER_SPACING","Row","alignItems","className","map","cloneElement","includes","RowStyle","sizes","media","Object","keys","reduce","acc","label","DOUBLE_GUTTER_SPACING","QUADRUPLE_GUTTER_SPACING","widthOfInnerMargins","availableWidthAfterMargins","singleColumnWidth","calculateWidth","cols","calculateMarginLeft","first","offset","Col","smFirst","medium","mdFirst","large","lgFirst"],"mappings":"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"}